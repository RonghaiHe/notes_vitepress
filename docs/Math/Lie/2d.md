# Lie Group fro 2D transformations [1]
## $\mathrm{SO}(2)$ : Rotations in 2D space

Having treated $\mathrm{SO}(3)$, the 2D equivalent $\mathrm{SO}(3)$ is straightforward.

### Representation

Elements of the rotation group in 2D, $\mathrm{SO}(2)$, are represented by 2D rotation matrices. **Composition** and **inversion** in the group correspond to matrix **multiplication** and **inversion**. Because rotation matrices are **orthogonal**, **inversion is equivalent to transposition**.

$$
\begin{aligned}
\mathbf{R} & \in \mathrm{SO}(2) \\
\mathbf{R}^{-1} & =\mathbf{R}^{\top}
\end{aligned}
$$

The Lie algebra, $\mathfrak{so}(2)$, is the set of $2 \times 2$ skew-symmetric matrices. The single generator of $\mathfrak{so}(2)$ corresponds to the derivative of 2D rotation, evaluated at the **identity**:

$$
\mathbf{J}=\left(\begin{array}{cc}
0 & -1 \\
1 & 0
\end{array}\right)
$$

An element of $\mathfrak{so}(2)$ is then any scalar multiple of the generator:

$$
\begin{aligned}
\theta & \in \mathbb{R} \\
\theta \mathbf{J} & \in \mathfrak{so}(2)
\end{aligned}
$$

We will simply write $\theta \in \mathfrak{so}(2)$, and use $\theta_{\times}$to represent the skew symmetric matrix $\theta \mathbf{J}$.

### Exponential Map

The exponential map that takes skew symmetric matrices to rotation matrices is simply the matrix exponential over a linear combination of the generators:

$$
\begin{aligned}
\exp \left(\theta_{\times}\right) & \equiv \exp \left(\begin{array}{cc}
0 & -\theta \\
\theta & 0
\end{array}\right) \\
& =\mathbf{I}+\theta_{\times}+\frac{1}{2!} \theta_{\times}^{2}+\frac{1}{3!} \theta_{\times}^{3}+\cdots \\
& =\mathbf{I}+\left(\begin{array}{cc}
0 & -\theta \\
\theta & 0
\end{array}\right)+\frac{1}{2!}\left(\begin{array}{cc}
-\theta^{2} & 0 \\
0 & -\theta^{2}
\end{array}\right)+\frac{1}{3!}\left(\begin{array}{cc}
0 & \theta^{3} \\
-\theta^{3} & 0
\end{array}\right)
\end{aligned}
$$

The resulting elements form the Taylor series expansion of $\sin \theta$ and $\cos \theta$ :

$$
\exp \left(\theta_{\times}\right)=\left(\begin{array}{cc}
\cos \theta & -\sin \theta \\
\sin \theta & \cos \theta
\end{array}\right) \in \mathrm{SO}(2)
$$

Thus the exponential map yields a rotation by $\theta$ radians.
The exponential map can be inverted, going from $\mathrm{SO}(2)$ to $\mathfrak{so}(2)$ :

$$
\begin{align*}
\mathbf{R} & \in \mathrm{SO}(2) \\
\ln (\mathbf{R})=\theta & =\arctan \left(\mathbf{R}_{21}, \mathbf{R}_{11}\right) \tag{1}
\end{align*}
$$

### Adjoint

Because rotations in the plane commute, the **adjoint** of $\mathrm{SO}(2)$ is the **identity function**.

## SE(2): Rigid transformations in 2D space

The group $\mathrm{SE}(2)$ is the lower-dimensional analogue of $\mathrm{SE}(3)$. The group has 3D, corresponding to translation and rotation in the plane.

### Representation

The group of rigid transformations in 2D space, $\mathrm{SE}(2)$, is represented by linear transformations on homogeneous three-vectors:

$$
\begin{aligned}
\mathbf{R} & \in \mathrm{SO}(2), \mathbf{t} \in \mathbb{R}^{2} \\
C & =\left(\begin{array}{c|c}
\mathbf{R} & \mathbf{t} \\
\hline \mathbf{0} & 1
\end{array}\right) \in \mathrm{SE}(2)
\end{aligned}
$$

Note that, in an implementation, only $\mathbf{R}$ and $\mathbf{t}$ need to be stored. The remaining matrix structure can remain implicit.

Transformation composition and inversion are coincident with matrix multiplication and inversion:

$$
\begin{aligned}
C_{1}, C_{2} & \in \mathrm{SE}(2) \\
C_{1} \cdot C_{2} & =\left(\begin{array}{c|c}
\mathbf{R}_{1} & \mathbf{t}_{1} \\
\hline \mathbf{0} & 1
\end{array}\right) \cdot\left(\begin{array}{c|c}
\mathbf{R}_{2} & \mathbf{t}_{2} \\
\hline \mathbf{0} & 1
\end{array}\right) \\
& =\left(\begin{array}{c|c}
\mathbf{R}_{1} \mathbf{R}_{2} & \mathbf{R}_{1} \mathbf{t}_{2}+\mathbf{t}_{1} \\
\hline \mathbf{0} & 1
\end{array}\right) \\
C_{1}^{-1} & =\left(\begin{array}{c|c}
\mathbf{R}_{1}^{\top} & -\mathbf{R}_{1}^{\top} \mathbf{t} \\
\hline \mathbf{0} & 1
\end{array}\right)
\end{aligned}
$$

The matrix representation also makes the group action on 2D points and vectors explicit:

$$
\begin{aligned}
\mathbf{x} & =\left(\begin{array}{lll}
x & y & w
\end{array}\right)^{\top} \in \mathbb{R P}^{2} \quad(\lambda \mathbf{x} \simeq \mathbf{x} \forall \lambda \in \mathbb{R}) \\
C \cdot \mathbf{x} & =\left(\begin{array}{l|l}
\mathbf{R} & \mathbf{t} \\
\hline \mathbf{0} & 1
\end{array}\right) \cdot \mathbf{x} \\
& =\left(\begin{array}{c}
\mathbf{R}\left(\begin{array}{ll}
x & y
\end{array}\right)^{\top}+w \mathbf{t} \\
w
\end{array}\right)
\end{aligned}
$$

Typically, $w=1$, so that $\mathbf{x}$ is a Cartesian point. The action by matrix-vector multiplication corresponds to **first rotating $\mathbf{x}$ and then translating it**. For direction vectors, encoded with $w=0$, translation is ignored.

The Lie algebra $\mathfrak{se}(2)$ is the set of $3 \times 3$ matrices corresponding to differential translations and rotation around the identity. There are thus three generators of the algebra:

$$
G_{1}=\left(\begin{array}{ccc}
0 & 0 & 1 \\
0 & 0 & 0 \\
0 & 0 & 0
\end{array}\right), \quad G_{2}=\left(\begin{array}{ccc}
0 & 0 & 0 \\
0 & 0 & 1 \\
0 & 0 & 0
\end{array}\right), \quad G_{3}=\left(\begin{array}{ccc}
0 & -1 & 0 \\
1 & 0 & 0 \\
0 & 0 & 0
\end{array}\right)
$$

An element of $\mathfrak{se}(2)$ is then represented by linear combinations of the generators:

$$
\begin{aligned}
\left(\begin{array}{cc}
\mathbf{u}_{1} & \mathbf{u}_{2} \quad \theta
\end{array}\right)^{\top} & \in \mathbb{R}^{3} \\
\mathbf{u}_{1} G_{1}+\mathbf{u}_{2} G_{2}+\theta G_{3} & \in \mathfrak{se}(2)
\end{aligned}
$$

For convenience, we write $( \mathbf{u}\quad \theta)^{\top} \in \mathfrak{se}(2)$, with multiplication against the generators implied.

### Exponential Map

As for all Lie groups in this document, the exponential map from $\mathfrak{se}(2)$ to $\mathrm{SE}(2)$ is the matrix exponential on a linear combination of the generators:

$$
\begin{aligned}
\boldsymbol{\delta}=\left(\begin{array}{ll}
\mathbf{u} & \theta
\end{array}\right) & \in \mathfrak{se}(2) \\
\exp (\boldsymbol{\delta}) & =\exp \left(\begin{array}{c|c}
\theta_{\times} & \mathbf{u} \\
\hline \mathbf{0} & 0
\end{array}\right) \\
& =\mathbf{I}+\left(\begin{array}{c|c}
\theta_{\times} & \mathbf{u} \\
\hline \mathbf{0} & 0
\end{array}\right)+\frac{1}{2!}\left(\begin{array}{c|c}
\theta_{\times}^{2} & \theta_{\times} \mathbf{u} \\
\hline \mathbf{0} & 0
\end{array}\right)+\frac{1}{3!}\left(\begin{array}{c|c}
\theta_{\times}^{3} & \theta_{\times}^{2} \mathbf{u} \\
\hline \mathbf{0} & 0
\end{array}\right)+\cdots
\end{aligned}
$$

The rotation block is the same as for $\mathrm{SO}(2)$, but the translation component is a different power series:

$$
\begin{aligned}
\exp \left(\begin{array}{c|c}
\theta_{\times} & \mathbf{u} \\
\hline \mathbf{0} & 0
\end{array}\right) & =\left(\begin{array}{c|c}
\exp \left(\theta_{\times}\right) & \mathbf{V u} \\
\hline \mathbf{0} & 1
\end{array}\right) \\
\mathbf{V} & =\mathbf{I}+\frac{1}{2!} \theta_{\times}+\frac{1}{3!} \theta_{\times}^{2}+\cdots
\end{aligned}
$$

We split the terms by odd and even powers:

$$
\mathbf{V}=\sum_{i=0}^{\infty}\left[\frac{\theta_{\times}^{2 i}}{(2 i+1)!}+\frac{\theta_{\times}^{2 i+1}}{(2 i+2)!}\right]
$$

Two identities (easily confirmed by induction) are useful for collapsing the series:

$$
\begin{aligned}
\theta_{\times}^{2 i} & =(-1)^{i} \theta^{2 i} \cdot\left(\begin{array}{ll}
1 & 0 \\
0 & 1
\end{array}\right) \\
\theta_{\times}^{2 i+1} & =(-1)^{i} \theta^{2 i+1} \cdot\left(\begin{array}{cc}
0 & -1 \\
1 & 0
\end{array}\right)
\end{aligned}
$$

Direct application of the identies yields a reduced expression for $\mathbf{V}$ in terms of diagonal and skewsymmetric components:

$$
\begin{aligned}
\mathbf{V} & =\sum_{i=0}^{\infty}(-1)^{i} \theta^{2 i}\left[\frac{1}{(2 i+1)!} \cdot\left(\begin{array}{ll}
1 & 0 \\
0 & 1
\end{array}\right)+\frac{\theta}{(2 i+2)!} \cdot\left(\begin{array}{cc}
0 & -1 \\
1 & 0
\end{array}\right)\right] \\
& =\left(\sum_{i=0}^{\infty} \frac{(-1)^{i} \theta^{2 i}}{(2 i+1)!}\right) \cdot\left(\begin{array}{ll}
1 & 0 \\
0 & 1
\end{array}\right)+\left(\sum_{i=0}^{\infty} \frac{(-1)^{i} \theta^{2 i+1}}{(2 i+2)!}\right) \cdot\left(\begin{array}{cc}
0 & -1 \\
1 & 0
\end{array}\right)
\end{aligned}
$$

The coefficients can be identified with Taylor expansions:

$$
\begin{aligned}
\mathbf{V} & =\left(1-\frac{\theta^{2}}{3!}+\frac{\theta^{4}}{5!}+\cdots\right) \cdot\left(\begin{array}{cc}
1 & 0 \\
0 & 1
\end{array}\right)+\left(\frac{\theta}{2!}-\frac{\theta^{3}}{4!}+\frac{\theta^{5}}{6!}+\cdots\right) \cdot\left(\begin{array}{cc}
0 & -1 \\
1 & 0
\end{array}\right) \\
& =\left(\frac{\sin \theta}{\theta}\right) \cdot\left(\begin{array}{cc}
1 & 0 \\
0 & 1
\end{array}\right)+\left(\frac{1-\cos \theta}{\theta}\right) \cdot\left(\begin{array}{cc}
0 & -1 \\
1 & 0
\end{array}\right) \\
& =\frac{1}{\theta} \cdot\left(\begin{array}{cc}
\sin \theta & -(1-\cos \theta) \\
1-\cos \theta & \sin \theta
\end{array}\right)
\end{aligned}
$$

For implementation purposes, Taylor expansions should be used for $\mathbf{V}$ when $\theta$ is small.
The $\ln ()$ function on $\mathrm{SE}(2)$ can be implemented by first recovering $\theta=\ln (\mathbf{R})$ as shown in Eq. (1), then solving $\mathbf{V u}=\mathbf{t}$ for $\mathbf{u}$ in closed form:

$$
\begin{aligned}
A & \equiv \frac{\sin \theta}{\theta} \\
B & \equiv \frac{1-\cos \theta}{\theta} \\
\mathbf{V}^{-1} & =\frac{1}{A^{2}+B^{2}}\left(\begin{array}{cc}
A & B \\
-B & A
\end{array}\right) \\
\ln \left(\begin{array}{c|c}
\mathbf{R} & \mathbf{t} \\
\hline \mathbf{0} & 1
\end{array}\right) & =\binom{\mathbf{V}^{-1} \cdot \mathbf{t}}{\theta} \in \mathfrak{se}(2)
\end{aligned}
$$

### Adjoint

The adjoint in $\mathrm{SE}(2)$ is computed from the generators:

$$
\begin{aligned}
\boldsymbol{\delta}=\left(\begin{array}{ll}
\mathbf{u} & \theta
\end{array}\right)^{\top} & \in \mathfrak{se}(2), C=\left(\begin{array}{c|c}
\mathbf{R} & \mathbf{t} \\
\hline \mathbf{0} & 1
\end{array}\right) \in \operatorname{SE}(2) \\
\operatorname{Adj}_{C} \cdot \boldsymbol{\delta} & =C \cdot\left(\sum_{i=1}^{3} \boldsymbol{\delta}_{i} G_{i}\right) \cdot C^{-1} \\
& =\binom{\left.\mathbf{R u}+\theta\binom{\mathbf{t}_{2}}{-\mathbf{t}_{1}}\right)}{\theta} \\
\Longrightarrow \operatorname{Adj}_{C} & =\left(\begin{array}{c|c}
\mathbf{R} & \mathbf{t}_{2} \\
&-\mathbf{t}_{1} \\
\hline \mathbf{0} & 1
\end{array}\right) \in \mathbb{R}^{3 \times 3}
\end{aligned}
$$

Note that moving a tangent vector via the adjoint mixes the rotation component into the translation component.





## Ref
[1] *Lie Groups for 2D and 3D Transformations*, [PDF](https://www.ethaneade.com/lie.pdf), by Ethan Eade, 2017